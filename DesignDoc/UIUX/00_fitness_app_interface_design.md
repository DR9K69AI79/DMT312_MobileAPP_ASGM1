# 健身记录应用界面交互设计方案

## 目录

1. [项目概述](#1-项目概述)
2. [设计原则](#2-设计原则)
3. [整体界面结构](#3-整体界面结构)
   - [3.1 导航框架](#31-导航框架)
   - [3.2 卡片布局规范](#32-卡片布局规范)
   - [3.3 操作模式](#33-操作模式)
4. [核心页面设计](#4-核心页面设计)
   - [4.1 Dashboard首页](#41-dashboard首页)
   - [4.2 体测&个人资料页](#42-体测个人资料页)
   - [4.3 训练打卡页](#43-训练打卡页)
   - [4.4 饮食记录页](#44-饮食记录页)
   - [4.5 学习资源库页](#45-学习资源库页)
5. [全局交互逻辑](#5-全局交互逻辑)
   - [5.1 页面切换流程](#51-页面切换流程)
   - [5.2 数据录入流程](#52-数据录入流程)
   - [5.3 通用交互模式](#53-通用交互模式)
6. [图表展示与交互](#6-图表展示与交互)
   - [6.1 图表设计通用原则](#61-图表设计通用原则)
   - [6.2 具体图表类型设计](#62-具体图表类型设计)
7. [特殊交互场景](#7-特殊交互场景)
8. [响应式设计](#8-响应式设计)
9. [无障碍设计](#9-无障碍设计)
10. [总结](#10-总结)

## 1. 项目概述

本文档为健身记录应用的界面交互设计方案，基于Flutter框架开发，面向Android平台。应用聚焦"体重体测、训练打卡、饮食记录"三大场景，为已具备基础健身习惯的用户提供快速录入和趋势可视化功能。

设计目标：
- 创建类似原生安卓应用的用户体验
- 以卡片结构为主要视觉元素
- 确保操作流程简洁高效
- 实现离线优先的数据存储
- 优化录入效率，使单次记录操作<5秒

## 2. 设计原则

### 视觉风格
- **色彩方案**：主色调采用健身主题相关的蓝色系（#1E88E5）和绿色系（#43A047），辅以白色背景增强可读性
- **字体选择**：采用Roboto字体家族，符合Material Design规范
- **阴影效果**：卡片采用轻微阴影（elevation: 2dp），增强层次感但不过分强调

### 交互原则
- **简洁直观**：减少操作步骤，关键功能一目了然
- **即时反馈**：所有操作提供视觉、触觉反馈
- **一致性**：保持界面元素和交互模式的一致性
- **可预测性**：用户操作结果符合预期
- **容错性**：提供撤销机会，防止误操作

### 性能考量
- **流畅动画**：所有过渡动画保持60fps
- **快速加载**：首屏加载时间<2秒
- **离线优先**：无网络环境下保持全功能可用

## 3. 整体界面结构

### 3.1 导航框架

#### 顶部Dashboard卡片
- **展开状态**（首页）：
  - 高度：约屏幕高度的1/3
  - 包含三个核心指标：今日体重、训练完成度环、热量盈亏
  - 背景色：渐变色（从主色调到次色调）
  
- **收起状态**（其他页面）：
  - 高度：64dp
  - 仅显示三个核心指标的简化版
  - 固定在屏幕顶部
  - 点击可快速返回Dashboard首页

#### 底部导航栏
- **高度**：56dp
- **宽度**：全屏宽
- **项目数**：4个（体测、训练、饮食、资源）
- **样式**：Material Design底部导航栏
- **指示器**：当前页面图标和文字高亮显示
- **交互方式**：
  - 点击切换页面
  - 支持左右滑动切换页面

#### 浮动操作按钮（FAB）
- **位置**：右下角，距底部导航栏16dp，距右边缘16dp
- **尺寸**：56dp x 56dp
- **图标**：加号（+）
- **颜色**：主色调或强调色（根据页面）
- **功能**：根据当前页面不同，触发相应的新增操作

### 3.2 卡片布局规范

#### 卡片基础样式
- **圆角**：8dp统一圆角
- **内边距**：16dp统一内边距
- **外边距**：卡片间距12dp
- **背景色**：白色（#FFFFFF）
- **边框**：无边框，通过阴影区分层次

#### 卡片类型
1. **信息展示卡**：展示数据，如体重、热量等
   - 高度：根据内容自适应，最小80dp
   - 宽度：屏幕宽度减去左右边距（24dp）
   
2. **操作卡**：包含可交互元素
   - 高度：根据内容自适应，最小100dp
   - 宽度：屏幕宽度减去左右边距（24dp）
   
3. **图表卡**：展示折线图等数据可视化内容
   - 高度：200dp（可根据内容调整）
   - 宽度：屏幕宽度减去左右边距（24dp）
   
4. **列表卡**：包含多个条目的列表
   - 高度：根据内容自适应，单条目高度60dp
   - 宽度：屏幕宽度减去左右边距（24dp）

5. **快捷操作卡**：小型操作按钮集合
   - 高度：80dp
   - 宽度：可为全宽或分栏式（屏幕宽度的1/2或1/3减去边距）

### 3.3 操作模式

#### 弹框设计
- **用途**：简单数据录入、确认操作
- **尺寸**：宽度为屏幕宽度的85%，高度自适应
- **位置**：屏幕中央
- **背景**：半透明黑色遮罩（透明度60%）
- **关闭方式**：
  - 点击确认/取消按钮
  - 点击遮罩区域
  - 按返回键

#### 底部抽屉设计
- **用途**：复杂数据录入、多步骤操作
- **高度**：可变，最小为屏幕高度的40%，最大为屏幕高度的90%
- **宽度**：全屏宽
- **圆角**：顶部左右圆角16dp
- **拖动指示器**：顶部中央显示一个小横条
- **关闭方式**：
  - 向下滑动
  - 点击完成按钮
  - 按返回键

#### 页面切换动画
- **水平切换**：页面间左右滑动切换时，采用滑动过渡动画
- **垂直切换**：Dashboard展开/收起时，采用垂直滑动+缩放动画
- **弹框显示**：淡入+轻微缩放动画
- **底部抽屉**：从底部滑入动画

## 4. 核心页面设计

### 4.1 Dashboard首页

#### 卡片布局

1. **顶部状态栏**
   - 高度：系统状态栏高度（约24dp）
   - 背景色：主色调（#1E88E5）
   - 内容：系统时间、电池状态等系统信息

2. **应用标题栏**
   - 高度：56dp
   - 背景色：主色调（#1E88E5）
   - 内容：
     - 左侧：应用名称"健身助手"（24sp，白色）
     - 右侧：设置图标按钮

3. **今日体重卡片**
   - 尺寸：高度120dp，宽度为屏幕宽度减去左右边距
   - 内容布局：
     - 左侧：体重数值（36sp，主色调）+ "kg"单位
     - 右侧：与昨日对比的变化值（增加为红色，减少为绿色）
     - 底部：最近7天微型趋势图
   - 交互：点击卡片弹出体重录入弹框

4. **训练完成度环形卡片**
   - 尺寸：高度180dp，宽度为屏幕宽度减去左右边距
   - 内容布局：
     - 中央：大型环形进度条（直径120dp）
     - 环内：完成百分比数字（48sp，主色调）
     - 环下方：今日待完成训练项目列表
   - 交互：点击卡片跳转至训练页面

5. **热量盈亏卡片**
   - 尺寸：高度140dp，宽度为屏幕宽度减去左右边距
   - 内容布局：
     - 上部：热量盈亏数值（36sp，盈余为红色，赤字为绿色）
     - 中部：水平分割条形图（摄入量vs消耗量）
     - 下部：摄入与消耗的具体数值
   - 交互：点击卡片跳转至饮食页面

6. **浮动操作按钮（FAB）**
   - 交互：点击展开三个小型FAB（体重记录、训练打卡、饮食记录）

#### 页面交互流程

- **下拉刷新**：触发刷新动画，更新所有卡片数据
- **导航切换**：点击底部导航栏，Dashboard卡片上移并缩小为顶部固定卡片
- **快捷录入**：点击FAB展开三个小型FAB，分别对应不同录入功能
- **卡片交互**：点击各卡片进入对应功能页面或弹出录入界面

### 4.2 体测&个人资料页

#### 卡片布局

1. **顶部Dashboard卡片**（收起状态）
   - 高度：64dp，显示三个核心指标的简化版
   - 交互：点击返回Dashboard首页

2. **个人资料卡片**
   - 内容：用户头像、姓名、身高、最近体重、编辑按钮
   - 交互：点击编辑按钮弹出个人资料编辑弹框

3. **体重趋势图卡片**
   - 内容：折线图（7天/30天可切换）、平均值/最高值/最低值
   - 交互：点击时间范围切换视图，长按图表显示详细数据

4. **身体指数卡片**
   - 内容：BMI和FFMI指数、当前数值、区间指示器
   - 交互：点击指数区块显示详细说明和计算方法

5. **体测历史记录卡片**
   - 内容：历史体重记录列表，包含日期、体重值、变化值
   - 交互：左滑显示删除按钮，点击查看详情

#### 页面交互流程

- **体重录入**：点击FAB弹出体重录入弹框，包含数字键盘和日期选择
- **个人资料编辑**：点击编辑按钮弹出编辑弹框，修改姓名和身高
- **图表交互**：支持7天/30天切换，左右滑动查看更多历史数据
- **历史记录管理**：左滑删除，点击查看详情

### 4.3 训练打卡页

#### 卡片布局

1. **今日训练状态卡片**
   - 内容：环形进度条、完成项目数/总项目数、训练时长统计
   - 交互：点击展开/收起今日训练详情

2. **训练计划卡片**
   - 内容：训练项目列表，包含项目名称、目标组数/次数、完成状态
   - 交互：点击开始按钮启动训练记录，点击编辑按钮进入编辑模式

3. **快速添加训练卡片**
   - 内容：水平滚动的训练模板图标列表
   - 交互：点击训练模板快速添加到今日计划

4. **训练历史卡片**
   - 内容：按日期分组的历史训练记录
   - 交互：点击"查看全部"打开完整历史记录页面

#### 页面交互流程

- **训练添加**：通过FAB或快速添加卡片添加训练项目
- **训练记录**：点击"开始"按钮打开训练记录底部抽屉，包含计时/计次功能
- **训练计划编辑**：拖动调整顺序，点击删除移除项目
- **训练历史查看**：支持日历视图和列表视图

#### 特殊交互功能

- **训练计时器**：倒计时/正计时模式，带振动提醒
- **训练完成动画**：状态图标从○变为✓的动画过渡
- **训练提醒**：设定时间到达时发送系统通知

### 4.4 饮食记录页

#### 卡片布局

1. **今日热量摘要卡片**
   - 内容：摄入热量、消耗热量、剩余热量、水平进度条
   - 交互：点击展开显示营养素分布，长按设置每日目标

2. **快速录入卡片**
   - 内容：+100/+250/+500 kcal按钮、常见食物快捷按钮
   - 交互：点击直接添加对应热量或预设食物

3. **食物搜索卡片**
   - 内容：搜索框、扫码图标按钮
   - 交互：输入关键词搜索食物，点击扫码启动相机扫描条形码

4. **今日摄入列表卡片**
   - 内容：食物列表，包含名称、数量、热量、添加时间
   - 交互：左滑删除，点击编辑图标修改

5. **饮食历史卡片**
   - 内容：按日期分组的历史饮食记录
   - 交互：点击日期标题展开/收起详情

#### 页面交互流程

- **食物添加**：通过快速录入、搜索或FAB添加食物
- **食物编辑**：点击编辑图标弹出食物编辑弹框
- **食物删除**：左滑食物项显示删除按钮
- **饮食历史查看**：支持日历视图和列表视图

#### 特殊交互功能

- **条形码扫描**：识别食品条形码自动填充食物信息
- **自定义食物创建**：添加自定义食物到本地数据库
- **热量目标设置**：调整每日目标热量和营养素比例

### 4.5 学习资源库页

#### 卡片布局

1. **资源分类标签卡片**
   - 内容：水平滚动的分类标签（全部、训练技巧、营养科普等）
   - 交互：点击切换到对应分类的文章列表

2. **搜索卡片**
   - 内容：搜索框
   - 交互：输入关键词实时过滤文章列表

3. **推荐文章卡片**
   - 内容：水平滚动的文章卡片，包含封面图、标题、分类标签
   - 交互：点击打开文章阅读页面

4. **文章列表卡片**
   - 内容：文章列表，包含缩略图、标题、简短描述、分类标签
   - 交互：点击打开文章阅读页面，点击收藏按钮切换收藏状态

5. **阅读进度卡片**
   - 内容：最近阅读的文章列表，包含阅读进度条
   - 交互：点击继续阅读，从上次位置开始

#### 文章阅读页面设计

- **顶部栏**：返回按钮、文章标题、收藏按钮、更多选项按钮
- **内容区域**：Markdown渲染内容，支持图片、表格、代码块等
- **底部操作栏**：阅读进度百分比、进度条、字体大小调整按钮

#### 页面交互流程

- **文章浏览**：分类筛选、关键词搜索、推荐浏览
- **文章阅读**：上下滑动阅读，底部进度条实时更新
- **收藏管理**：点击收藏按钮切换状态，查看收藏分类

#### 特殊交互功能

- **阅读模式切换**：支持日间/夜间模式
- **文章分享**：分享文章标题和应用下载链接
- **阅读进度同步**：自动保存阅读位置，下次继续阅读

## 5. 全局交互逻辑

### 5.1 页面切换流程

#### 底部导航切换
- 用户点击底部导航项
- 当前页面水平滑出，新页面水平滑入
- Dashboard卡片从展开状态收起或保持收起状态
- 新页面内容加载完成后启用交互

#### Dashboard切换
- 用户点击收起状态的Dashboard卡片
- 当前页面下移，Dashboard展开
- 底部导航栏高亮切换到首页项
- 展开动画：垂直滑动+轻微缩放

#### 返回操作
- 用户按返回键或使用系统返回手势
- 如在子页面：返回上一级页面
- 如在弹框/抽屉：关闭弹框/抽屉
- 如在主页面：询问是否退出应用

### 5.2 数据录入流程

#### 快速录入
- 触发：点击相关快速录入按钮
- 直接添加预设数据（如+100kcal）
- 显示简短成功提示
- 相关数据立即更新

#### 简单录入
- 触发：点击相关添加按钮
- 显示输入弹框
- 用户输入数据并确认
- 数据验证通过后添加
- 相关卡片和统计数据更新

#### 复杂录入
- 触发：点击FAB或详细添加按钮
- 打开底部抽屉表单
- 用户填写多个字段
- 提交前进行表单验证
- 提交成功后关闭抽屉
- 相关页面数据更新

### 5.3 通用交互模式

#### 列表操作
- 左滑：显示删除按钮
- 右滑：显示编辑/完成按钮（根据上下文）
- 长按：进入多选模式或显示操作菜单
- 点击：查看详情或执行主要操作

#### 图表交互
- 点击数据点：显示详细数值
- 长按：显示十字准线和详细信息
- 左右滑动：查看更多历史数据
- 双指缩放：调整数据范围

#### 表单交互
- 字段获取焦点时轻微放大
- 错误状态：红色下划线+错误提示
- 成功状态：绿色勾选图标
- 必填字段标记：标签带星号(*)

## 6. 图表展示与交互

### 6.1 图表设计通用原则

#### 视觉风格
- **配色方案**：主数据线/柱使用主色调，次要数据使用辅助色
- **字体设置**：轴标签12sp，数值标签10sp，图表标题16sp
- **线条样式**：数据线2dp宽度，网格线虚线1dp宽度
- **数据点样式**：直径6dp，选中状态8dp带白色边框

#### 交互设计
- **触摸反馈**：点击数据点显示详细数值，长按显示十字准线
- **动画效果**：初始加载动画，数据更新平滑过渡，视图切换动画
- **信息展示**：悬浮提示框显示详细数据，支持多指触摸
- **空数据处理**：友好的空状态提示，提供添加数据的快捷入口

### 6.2 具体图表类型设计

#### 体重趋势折线图
- **视觉设计**：平滑曲线连接数据点，数据线下方轻微渐变填充
- **交互功能**：时间范围切换（7天/30天），数据点点击显示详情
- **特殊功能**：支持趋势分析，上升/下降趋势用不同颜色标识

#### 训练完成度环形图
- **视觉设计**：环形进度条，已完成部分主色调，未完成部分浅灰色
- **交互功能**：点击显示训练详情，完成新训练时平滑增加进度
- **特殊功能**：达到100%显示完成动画，接近截止时间未完成显示警告色

#### 热量摄入/消耗条形图
- **视觉设计**：水平条形图，摄入量蓝色，消耗量绿色，目标线垂直虚线
- **交互功能**：点击条形显示详情，点击目标线调整目标值
- **特殊功能**：摄入>消耗时盈余值显示红色，反之显示绿色

#### BMI/FFMI指数条形图
- **视觉设计**：水平条形进度条，不同区间用不同颜色标识
- **交互功能**：点击不同区域显示健康建议，点击当前值显示计算方法
- **特殊功能**：指示器平滑移动到新位置，支持历史变化趋势查看

#### 训练历史日历热图
- **视觉设计**：月历格式，颜色深浅表示训练完成度
- **交互功能**：点击日期显示详情，支持月视图/周视图切换
- **特殊功能**：可按训练类型筛选，支持与当前训练计划比较

#### 饮食营养素分布饼图
- **视觉设计**：扇区表示不同营养素占比，中心显示总热量
- **交互功能**：点击扇区高亮并显示详情，支持旋转交互
- **特殊功能**：可叠加显示目标营养素比例，支持食物来源明细查看

## 7. 特殊交互场景

### 首次使用引导
- 欢迎页面介绍应用主要功能
- 权限请求解释所需权限及用途
- 个人资料设置引导
- 核心功能简短教程

### 数据同步状态
- 同步中显示指示器
- 同步成功/失败提示
- 离线模式标识

### 成就解锁
- 达成特定目标时显示成就卡片
- 提供分享选项
- 添加到成就列表

### 提醒通知
- 系统通知显示提醒内容
- 点击通知直接进入相关页面
- 支持直接在通知中完成/推迟

## 8. 响应式设计

### 小屏幕设备（<5英寸）
- 减小卡片内边距至12dp
- 减小字体大小约10%
- 简化图表，减少显示的刻度数量
- 列表默认显示更少的项目

### 大屏幕设备（>6英寸）
- 保持卡片宽度不变，增加左右边距至32dp
- 增加卡片间距至16dp
- 增加图表细节和数据密度
- 列表默认显示更多项目

### 横屏模式
- 调整卡片布局为双列
- 优化图表显示区域
- 底部导航栏保持在屏幕底部

## 9. 无障碍设计

### 屏幕阅读器支持
- 所有交互元素提供内容描述
- 图表提供替代文本描述
- 弹框/抽屉打开时焦点自动移至首个交互元素

### 操作便利性
- 触摸目标最小尺寸48dp x 48dp
- 相关操作分组放置
- 提供键盘导航支持
- 支持系统字体大小调整

### 视觉辅助
- 颜色对比度符合WCAG 2.0 AA标准
- 不仅依靠颜色传达信息（配合图标和文字）
- 支持高对比度模式
- 动画可在系统设置中关闭

## 10. 总结

本设计方案为健身记录应用提供了详细的界面交互设计，包括整体界面结构、核心页面设计、全局交互逻辑、图表展示与交互等方面。设计遵循原生安卓应用的风格，以卡片结构为主要视觉元素，确保操作流程简洁高效。

应用聚焦"体重体测、训练打卡、饮食记录"三大场景，为用户提供快速录入和趋势可视化功能，满足离线优先、快速录入（<5秒）的核心需求。同时，设计考虑了响应式适配和无障碍支持，确保在不同设备上提供一致且友好的用户体验。

通过精心设计的交互流程和视觉反馈，应用将帮助已具备基础健身习惯的用户更高效地记录和分析自己的健身数据，从而更好地实现健身目标。
