# 体测 & 个人资料页（Screen 2）设计

## 页面概述
体测 & 个人资料页面用于展示用户的基本身体数据和体重变化趋势，提供BMI、FFMI等健身相关指数的计算结果，帮助用户了解自身身体状况和变化趋势。

## 卡片布局

### 1. 顶部Dashboard卡片（收起状态）
- **高度**：64dp
- **宽度**：全屏宽
- **背景色**：主色调（#1E88E5）
- **内容**：
  - 左侧：今日体重数值（18sp，白色，Roboto Medium）
  - 中间：训练完成度环（直径32dp）
  - 右侧：热量盈亏数值（18sp，白色，Roboto Medium）
- **交互**：点击任意位置返回Dashboard首页

### 2. 个人资料卡片
- **尺寸**：高度自适应（约160dp），宽度为屏幕宽度减去左右边距（24dp）
- **位置**：顶部Dashboard卡片下方16dp
- **背景色**：白色（#FFFFFF）
- **内容布局**：
  - 左侧：用户头像（圆形，直径80dp）或默认头像图标
  - 右侧：
    - 姓名（18sp，黑色，Roboto Medium）
    - 身高（16sp，灰色，Roboto Regular）+ "cm"单位
    - 最近一次体重（16sp，灰色，Roboto Regular）+ "kg"单位
    - 编辑按钮（文字按钮，主色调）
- **交互**：
  - 点击编辑按钮：弹出个人资料编辑弹框
  - 点击头像：弹出头像选择/拍照选项

### 3. 体重趋势图卡片
- **尺寸**：高度240dp，宽度为屏幕宽度减去左右边距（24dp）
- **位置**：个人资料卡片下方12dp
- **背景色**：白色（#FFFFFF）
- **内容布局**：
  - 顶部：标题"体重趋势"（16sp，黑色，Roboto Medium）+ 时间范围切换（7天/30天）
  - 中部：折线图（高度180dp）
    - X轴：日期
    - Y轴：体重数值
    - 折线：主色调（#1E88E5）
    - 数据点：小圆点，点击可显示具体数值
  - 底部：平均值、最高值、最低值（14sp，灰色，Roboto Regular）
- **交互**：
  - 点击时间范围切换：切换7天/30天视图，图表动态调整
  - 长按图表：显示十字准线和详细数据
  - 左右滑动图表：查看更多历史数据

### 4. 身体指数卡片
- **尺寸**：高度自适应（约200dp），宽度为屏幕宽度减去左右边距（24dp）
- **位置**：体重趋势图卡片下方12dp
- **背景色**：白色（#FFFFFF）
- **内容布局**：
  - 分为两个指数区块：BMI和FFMI
  - 每个区块包含：
    - 指数名称（16sp，黑色，Roboto Medium）
    - 当前数值（24sp，主色调，Roboto Bold）
    - 区间指示器：水平条形进度条，不同颜色区分不同健康区间
    - 区间说明文字（12sp，灰色，Roboto Regular）
- **交互**：
  - 点击指数区块：弹出该指数的详细说明和计算方法
  - 点击区间指示器：显示不同区间的健康建议

### 5. 体测历史记录卡片
- **尺寸**：高度自适应（最多显示5条记录），宽度为屏幕宽度减去左右边距（24dp）
- **位置**：身体指数卡片下方12dp
- **背景色**：白色（#FFFFFF）
- **内容布局**：
  - 顶部：标题"历史记录"（16sp，黑色，Roboto Medium）+ "查看全部"文字按钮（14sp，主色调）
  - 列表项（每项高度60dp）：
    - 左侧：日期（14sp，灰色，Roboto Regular）
    - 中间：体重数值（16sp，黑色，Roboto Medium）
    - 右侧：与上次的变化值（14sp，增加为红色，减少为绿色）
- **交互**：
  - 点击"查看全部"：展开显示更多历史记录
  - 左滑列表项：显示删除按钮
  - 点击列表项：弹出该记录的详细信息

### 6. 浮动操作按钮（FAB）
- **尺寸**：56dp x 56dp
- **位置**：右下角，距底部导航栏16dp，距右边缘16dp
- **背景色**：主色调（#1E88E5）
- **图标**：白色加号（+）
- **交互**：点击弹出体重录入弹框

## 页面交互流程

### 1. 页面加载
- 从Dashboard切换到体测页面时，顶部Dashboard卡片收起动画
- 其他卡片依次以轻微上移+淡入动画显示
- 数据加载完成前，各卡片显示骨架屏占位

### 2. 体重录入流程
- 点击FAB：弹出体重录入弹框
  - 弹框包含：数字键盘、日期选择器（默认今日）、确认/取消按钮
  - 可选填备注字段
- 录入完成后：
  - 体重趋势图更新
  - 身体指数卡片数值更新
  - 历史记录列表添加新记录
  - 显示成功提示（轻量级Toast提示）

### 3. 个人资料编辑流程
- 点击个人资料卡片中的编辑按钮：弹出个人资料编辑弹框
  - 弹框包含：姓名输入框、身高输入框、确认/取消按钮
- 编辑完成后：
  - 个人资料卡片信息更新
  - 身体指数重新计算并更新
  - 显示成功提示

### 4. 图表交互
- 点击7天/30天切换：
  - 图表数据范围切换
  - 图表动画：数据点平滑过渡到新位置
- 左右滑动图表：
  - 显示更早/更晚的数据
  - 日期轴随滑动更新

### 5. 历史记录管理
- 左滑历史记录项：显示删除按钮
  - 点击删除：弹出确认对话框
  - 确认删除：记录消失，图表数据更新
- 点击历史记录项：弹出详情弹框
  - 弹框包含：完整日期时间、体重、BMI、FFMI、备注
  - 提供编辑和删除选项

## 响应式调整
- **小屏幕设备**（<5英寸）：
  - 减小图表高度至160dp
  - 历史记录默认显示3条
  
- **大屏幕设备**（>6英寸）：
  - 增加图表高度至260dp
  - 历史记录默认显示6条

## 状态与反馈
- **数据更新**：指数变化时使用数字滚动动画
- **图表加载**：显示渐进式加载动画
- **空状态**：首次使用时，显示引导信息和添加体重的提示
- **错误状态**：数据加载失败时，显示重试按钮
