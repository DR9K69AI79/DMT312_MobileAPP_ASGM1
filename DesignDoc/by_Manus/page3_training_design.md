# 训练打卡页（Screen 3）设计

## 页面概述
训练打卡页面是用户记录和管理日常训练的核心界面，提供动作模板选择、计时/计次功能和训练状态管理。页面采用卡片式布局，强调快速操作和直观反馈，帮助用户高效完成训练记录。

## 卡片布局

### 1. 顶部Dashboard卡片（收起状态）
- **高度**：64dp
- **宽度**：全屏宽
- **背景色**：主色调（#1E88E5）
- **内容**：同体测页面的顶部Dashboard卡片
- **交互**：点击任意位置返回Dashboard首页

### 2. 今日训练状态卡片
- **尺寸**：高度120dp，宽度为屏幕宽度减去左右边距（24dp）
- **位置**：顶部Dashboard卡片下方16dp
- **背景色**：白色（#FFFFFF）
- **内容布局**：
  - 左侧：大型环形进度条（直径80dp）
    - 环形宽度：8dp
    - 已完成部分：主色调（#1E88E5）
    - 未完成部分：浅灰色（#E0E0E0）
  - 右侧：
    - 完成项目数/总项目数（18sp，黑色，Roboto Medium）
    - "今日训练"标题（14sp，灰色，Roboto Regular）
    - 训练时长统计（14sp，灰色，Roboto Regular）
- **交互**：
  - 点击卡片：展开/收起今日训练详情

### 3. 训练计划卡片
- **尺寸**：高度自适应（根据项目数量），宽度为屏幕宽度减去左右边距（24dp）
- **位置**：今日训练状态卡片下方12dp
- **背景色**：白色（#FFFFFF）
- **内容布局**：
  - 顶部：标题"训练计划"（16sp，黑色，Roboto Medium）+ 编辑按钮（图标按钮）
  - 训练项目列表（每项高度72dp）：
    - 左侧：项目图标（圆形，直径40dp）
    - 中间：
      - 项目名称（16sp，黑色，Roboto Medium）
      - 目标组数/次数（14sp，灰色，Roboto Regular）
    - 右侧：
      - 完成状态图标（已完成✓/未完成○）
      - 开始按钮（文字按钮，主色调）
- **交互**：
  - 点击编辑按钮：进入训练计划编辑模式
  - 点击开始按钮：启动该训练项目的记录界面
  - 长按训练项目：弹出操作菜单（编辑/删除/调整顺序）

### 4. 快速添加训练卡片
- **尺寸**：高度100dp，宽度为屏幕宽度减去左右边距（24dp）
- **位置**：训练计划卡片下方12dp
- **背景色**：白色（#FFFFFF）
- **内容布局**：
  - 水平滚动的训练模板图标列表
  - 每个模板包含：
    - 圆形图标（直径56dp）
    - 训练名称（12sp，黑色，Roboto Regular）
  - 最后一项为"更多"选项
- **交互**：
  - 点击训练模板：快速添加该训练到今日计划
  - 点击"更多"：打开完整训练模板列表底部抽屉

### 5. 训练历史卡片
- **尺寸**：高度自适应（最多显示5天记录），宽度为屏幕宽度减去左右边距（24dp）
- **位置**：快速添加训练卡片下方12dp
- **背景色**：白色（#FFFFFF）
- **内容布局**：
  - 顶部：标题"训练历史"（16sp，黑色，Roboto Medium）+ "查看全部"文字按钮（14sp，主色调）
  - 历史记录列表（按日期分组）：
    - 日期标题（14sp，灰色，Roboto Medium）
    - 训练项目列表（每项高度48dp）：
      - 左侧：项目图标（小型，直径24dp）
      - 中间：项目名称（14sp，黑色，Roboto Regular）
      - 右侧：完成组数/次数（14sp，灰色，Roboto Regular）
- **交互**：
  - 点击"查看全部"：打开完整训练历史记录页面
  - 点击历史训练项目：显示该训练的详细记录

### 6. 浮动操作按钮（FAB）
- **尺寸**：56dp x 56dp
- **位置**：右下角，距底部导航栏16dp，距右边缘16dp
- **背景色**：主色调（#1E88E5）
- **图标**：白色加号（+）
- **交互**：点击打开训练模板选择底部抽屉

## 页面交互流程

### 1. 训练添加流程
- **通过FAB添加**：
  - 点击FAB：打开训练模板选择底部抽屉
  - 底部抽屉包含：
    - 搜索栏
    - 常用训练分类标签（力量/有氧/拉伸等）
    - 训练模板网格列表
  - 选择训练模板后：
    - 弹出训练设置弹框（组数/次数/时长）
    - 确认后添加到今日训练计划
    
- **通过快速添加卡片**：
  - 点击训练模板图标：直接添加到今日训练计划（使用默认设置）
  - 添加成功：显示轻量级成功提示，训练计划卡片更新

### 2. 训练记录流程
- 点击训练项目的"开始"按钮：
  - 打开训练记录底部抽屉
  - 底部抽屉包含：
    - 顶部：训练名称和目标（16sp，黑色，Roboto Medium）
    - 中部：
      - 计时训练：大型倒计时/正计时显示 + 开始/暂停/重置按钮
      - 计次训练：大型数字显示 + 增加/减少按钮
    - 底部：完成组数/总组数显示 + "下一组"和"完成"按钮
  - 完成一组：
    - 振动反馈
    - 组数计数增加
    - 短暂休息倒计时开始
  - 完成所有组：
    - 显示完成动画
    - 更新训练状态
    - 关闭底部抽屉

### 3. 训练计划编辑流程
- 点击训练计划卡片的编辑按钮：
  - 进入编辑模式
  - 训练项目右侧显示拖动手柄和删除按钮
  - 底部显示"添加训练"和"保存"按钮
- 编辑操作：
  - 拖动：调整训练顺序
  - 点击删除：移除训练项目
  - 点击添加：打开训练模板选择底部抽屉
- 点击保存：
  - 退出编辑模式
  - 更新训练计划
  - 显示成功提示

### 4. 训练历史查看流程
- 点击"查看全部"：
  - 打开训练历史记录页面（全屏）
  - 显示日历视图和列表视图切换选项
- 日历视图：
  - 月历格式，训练日期有颜色标记
  - 点击日期：显示该日训练详情
- 列表视图：
  - 按日期倒序排列训练记录
  - 支持筛选和搜索功能

## 特殊交互功能

### 1. 训练计时器
- **倒计时模式**：
  - 大型数字显示（48sp，主色调）
  - 环形进度条动态减少
  - 最后5秒数字变红并放大
  - 结束时振动提醒
  
- **正计时模式**：
  - 大型数字显示（48sp，主色调）
  - 环形进度条动态增加
  - 超过目标时间数字变红
  - 可手动停止或继续计时

### 2. 训练完成动画
- 训练项目完成时：
  - 状态图标从○变为✓的动画过渡
  - 轻微放大再恢复的弹性动画
  - 短暂的成功色彩闪烁

### 3. 训练提醒
- 设定训练时间到达时：
  - 系统通知提醒
  - 点击通知直接进入训练页面

## 响应式调整
- **小屏幕设备**（<5英寸）：
  - 训练项目卡片高度减少至64dp
  - 快速添加训练图标尺寸减小至48dp
  
- **大屏幕设备**（>6英寸）：
  - 训练历史默认显示7天记录
  - 快速添加训练一行显示5个模板

## 状态与反馈
- **训练进行中**：顶部状态栏显示持续训练提示
- **训练完成**：显示成就解锁动画（如适用）
- **训练逾期**：午夜12点未完成的训练项目标记为未完成，颜色变灰
- **首次使用**：显示引导提示，介绍如何添加和记录训练
